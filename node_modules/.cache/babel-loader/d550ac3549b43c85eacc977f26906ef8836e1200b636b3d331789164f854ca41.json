{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nexport function useProducts() {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  function addProduct(product) {\n    setProducts(prev => [...prev, product]);\n  }\n  async function fetchProducts() {\n    try {\n      setError('');\n      setLoading(true);\n      const response = await axios.get('https://fakestoreapi.com/products');\n      setProducts(response.data);\n      setLoading(false);\n    } catch (e) {\n      const error = e;\n      setLoading(false);\n      setError(error.message);\n    }\n  }\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n  return {\n    products,\n    error,\n    loading,\n    addProduct\n  };\n}\n_s(useProducts, \"7XdiwA+zH0BUukuNXo61gsIMCOU=\");","map":{"version":3,"names":["useEffect","useState","axios","useProducts","_s","products","setProducts","loading","setLoading","error","setError","addProduct","product","prev","fetchProducts","response","get","data","e","message"],"sources":["C:/Users/Asus/Desktop/KBTU/react_primal/React/React-Final/React-Fall/react-course/src/hooks/products.ts"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport { IProduct } from \"../models\"\nimport axios, {AxiosError} from \"axios\"\n\n\nexport function useProducts() {\n    const [products, setProducts] = useState<IProduct[]>([])\n    const [loading, setLoading] = useState(false)\n    const [error, setError] = useState('')\n\n\n    function addProduct(product: IProduct) {\n        setProducts(prev => [...prev, product])\n    }\n\n    async function fetchProducts() {\n\n        try {\n        setError('')\n        setLoading(true)\n        const response = await axios.get<IProduct[]>('https://fakestoreapi.com/products')\n        setProducts(response.data)\n        setLoading(false)\n\n        } catch (e: unknown) {\n        const error = e as AxiosError\n        setLoading(false)\n        setError(error.message)\n        }\n    }\n\n    useEffect(() => {\n        fetchProducts()\n    }, [])\n\n    return { products, error, loading, addProduct }\n}"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,OAAOC,KAAK,MAAoB,OAAO;AAGvC,OAAO,SAASC,WAAWA,CAAA,EAAG;EAAAC,EAAA;EAC1B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGL,QAAQ,CAAa,EAAE,CAAC;EACxD,MAAM,CAACM,OAAO,EAAEC,UAAU,CAAC,GAAGP,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACQ,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAGtC,SAASU,UAAUA,CAACC,OAAiB,EAAE;IACnCN,WAAW,CAACO,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAED,OAAO,CAAC,CAAC;EAC3C;EAEA,eAAeE,aAAaA,CAAA,EAAG;IAE3B,IAAI;MACJJ,QAAQ,CAAC,EAAE,CAAC;MACZF,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMO,QAAQ,GAAG,MAAMb,KAAK,CAACc,GAAG,CAAa,mCAAmC,CAAC;MACjFV,WAAW,CAACS,QAAQ,CAACE,IAAI,CAAC;MAC1BT,UAAU,CAAC,KAAK,CAAC;IAEjB,CAAC,CAAC,OAAOU,CAAU,EAAE;MACrB,MAAMT,KAAK,GAAGS,CAAe;MAC7BV,UAAU,CAAC,KAAK,CAAC;MACjBE,QAAQ,CAACD,KAAK,CAACU,OAAO,CAAC;IACvB;EACJ;EAEAnB,SAAS,CAAC,MAAM;IACZc,aAAa,CAAC,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAET,QAAQ;IAAEI,KAAK;IAAEF,OAAO;IAAEI;EAAW,CAAC;AACnD;AAACP,EAAA,CA/BeD,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}